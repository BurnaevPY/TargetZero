@using TargetZero.WebApplication.Models
@model EditConsiderationModel

@{
    ViewData["Title"] = "Рассмотрение";
}
<div class="text-left">
    <h4 class="display-6">@Model.ConsiderationGroupName. Рассмотрение рацпредложения № @Model.Innovation.Id от @Model.Innovation.CreateTime.ToString("dd.MM.yyyy")</h4>
</div>

<br/>

<nav>
    <div class="nav nav-tabs" id="nav-tab" role="tablist">
        <button class="nav-link active" id="nav-home-tab" data-bs-toggle="tab" data-bs-target="#nav-home" type="button" role="tab" aria-controls="nav-home" aria-selected="true">Рассмотрение</button>
        <button class="nav-link" id="nav-profile-tab" data-bs-toggle="tab" data-bs-target="#nav-profile" type="button" role="tab" aria-controls="nav-profile" aria-selected="false">Рацпредложение</button>
        <button class="nav-link" id="nav-consideration-tab" data-bs-toggle="tab" data-bs-target="#nav-consideration" type="button" role="tab" aria-controls="nav-consideration" aria-selected="false">Рассмотрение</button>
    </div>
</nav>
<div class="tab-content" id="nav-tabContent">
    <div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">
        <form asp-controller="Considerations" asp-action="Edit" method="post">

            <input type="hidden" asp-for="@Model.ReturnUrl" />
            <input type="hidden" asp-for="@Model.InnovationId" />

            @*<div class="row">
                <div class="form-group mb-4 col-4">
                    <label asp-for="InnovationStatusId" class="form-label"></label>
                    <select asp-for="InnovationStatusId" asp-items="@ViewBag.InnovationStatuses" class="form-select">
                        <option></option>
                    </select>
                    <span asp-validation-for="InnovationStatusId" class="text-danger"></span>
                </div>
            </div>*@

            <div class="row">
                <div class="form-group mb-4 col-4">
                    <label asp-for="ConsiderationResultId" class="form-label"></label>
                    <select asp-for="ConsiderationResultId" asp-items="@ViewBag.ConsiderationResults" class="form-select">
                        <option></option>
                    </select>
                    <span asp-validation-for="ConsiderationResultId" class="text-danger"></span>
                </div>
            </div>


            <div class="row">
                <div class="form-group mt-3 mb-4 col-12">
                    <label asp-for="Content" class="form-label"></label>
                    <textarea asp-for="Content" class="form-control" rows="3"></textarea>
                    <span asp-validation-for="Content" class="text-danger"></span>
                </div>
            </div>

            <!-- Submit -->
            <div class="form-group text-center">
                <button type="submit" class="btn btn-outline-secondary text-uppercase ">Сохранить</button>
            </div>
        </form>

    </div>
    <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab">
        <dl class="row mt-3">
            <dt>@Html.DisplayNameForInnerType((InnovationCardModel x) => x.Id)</dt>
            <dd class="mb-2">@Model.Innovation.Id</dd>
            <dt>@Html.DisplayNameForInnerType((InnovationCardModel x) => x.FilialName)</dt>
            <dd class="mb-2">@Model.Innovation.FilialName</dd>
            <dt>@Html.DisplayNameForInnerType((InnovationCardModel x) => x.CategoryName)</dt>
            <dd class="mb-2">@Model.Innovation.CategoryName</dd>
            <dt>@Html.DisplayNameForInnerType((InnovationCardModel x) => x.Description)</dt>
            <dd class="mb-2">@Model.Innovation.Description</dd>
            <dt>@Html.DisplayNameForInnerType((InnovationCardModel x) => x.CurrentState)</dt>
            <dd class="mb-2">@Model.Innovation.CurrentState</dd>
            <dt>@Html.DisplayNameForInnerType((InnovationCardModel x) => x.TargetState)</dt>
            <dd class="mb-2">@Model.Innovation.TargetState</dd>
            <dt>@Html.DisplayNameForInnerType((InnovationCardModel x) => x.Reason)</dt>
            <dd class="mb-2">@Model.Innovation.Reason</dd>
        </dl>
    </div>

    <div class="tab-pane fade" id="nav-consideration" role="tabpanel" aria-labelledby="nav-consideration-tab">
        <table class="table table-hover table-bordered mt-3">
            <thead>
                <tr>
                    <th>@Html.DisplayNameForInnerType((ConsiderationModel x) => x.ConsiderationGroupName)</th>
                    @*<th>@Html.DisplayNameForInnerType((ConsiderationModel x) => x.InnovationStatusName)</th>*@
                    <th>@Html.DisplayNameForInnerType((ConsiderationModel x) => x.ConsiderationResultName)</th>
                    <th>@Html.DisplayNameForInnerType((ConsiderationModel x) => x.Content)</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.Considerations)
                {
                <tr>
                    <td>@Html.DisplayFor(x => item.ConsiderationGroupName)</td>
                    @*<td>@Html.DisplayFor(x => item.InnovationStatusName)</td>*@
                    <td>@Html.DisplayFor(x => item.ConsiderationResultName)</td>
                    <td>@Html.DisplayFor(x => item.Content)</td>
                </tr>
                }
            </tbody>
        </table>
    </div>
</div>

